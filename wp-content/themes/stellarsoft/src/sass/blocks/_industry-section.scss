@use "../global" as *;

.industry-section {
	.section-head {
		&__text {
			@media (min-width: $mobile) {
				padding-right: rem(20);
			}

			@media (min-width: $widescreen) {
				padding-right: 0;
			}
		}
	}
}

.industry {
	&__wrap {
		display: flex;
		flex-direction: column;
		height: 100%;
		gap: rem(10);

		@media (min-width: $widescreen) {
			flex-direction: row;
		}
	}

	&__block {
		overflow: hidden;
		width: 100%;
		height: rem(104);
		transition: all 0.4s ease;
		position: relative;

		@media (min-width: $widescreen) {
			width: calc(100% / 5);
			height: auto;
		}

		&.active {
			flex: none;
			height: 100%;

			@media (min-width: $widescreen) {
				height: auto;
				min-height: auto;
			}

			@media (min-width: $widescreen) {
				width: rem(675);
				height: auto;
			}

			.industry__body {
				opacity: 1;
				z-index: 2;
				height: auto;
				visibility: visible;

				@media (min-width: $widescreen) {
					position: absolute;
					left: rem(30);
					bottom: rem(30);
					max-width: rem(535);
				}


			}

			.industry__img {
				background-position: top;
				border-radius: rem(20);
				z-index: 1;
				display: block;
				width: 100%;

				@media (max-width: $widescreen) {
					height: 74vw;
				}

				&:after {
					opacity: 0;
				}

				&:before {
					content: '';
					position: absolute;
					inset: 0;
					border-radius: inherit;
					background-color: #1a1a1a;
					z-index: 1;
					-webkit-mask-size: 100% 100%;
					-webkit-mask-repeat: no-repeat;

					mask-image: linear-gradient(
							to bottom,
							rgba(0, 0, 0, 0.2) 0%,
							rgba(0, 0, 0, 0.74) 57%,
							rgba(0, 0, 0, 1) 100%
					);
					mask-size: 100% 100%;
					mask-repeat: no-repeat;
				}

			}

			.industry__btn {
				opacity: 1;
			}

			.industry__tag {
				opacity: 0;
			}

			.industry__tag {
				opacity: 0;
				visibility: hidden;
			}

			.industry__link-to-post {
				display: block;
			}

			&:hover {
				@media (min-width: $mobile) {
					.industry__link-to-post {
						span {
							background-color: $bg-accent;
							border-color: $bg-accent;

							svg {
								transform: rotate(45deg);

								path {
									fill: $text-color-light;
								}
							}
						}


					}
				}

			}
		}
	}

	&__img {
		width: 100%;
		height: rem(104);
		overflow: hidden;
		border-radius: rem(20) rem(20) 0 rem(20);
		background-repeat: no-repeat;
		background-position: center;
		background-size: cover;
		margin-bottom: rem(20);
		position: relative;
		transition: all 0.3s ease;
		max-height: rem(440);

		@media (min-width: $widescreen) {
			height: rem(350);
			margin-bottom: 0;
		}

		&:after {
			position: absolute;
			content: "";
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			z-index: 1;
			background-color: $bg-color-grey;
			opacity: 0.5;
			transition: all 0.3s ease;
		}
	}

	&__btn {
		display: block;
		width: rem(40);
		height: rem(40);
		position: absolute;
		z-index: 2;
		bottom: rem(20);
		right: rem(20);
		border-radius: 50%;
		background-color: $text-color-light;
		opacity: 0;
		transition: all 0.3s ease;
		background-repeat: no-repeat;
		background-position: center;
		background-image: url("data:image/svg+xml,%3Csvg width='12' height='12' viewBox='0 0 12 12' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M9.02082 7.29289L9.02082 8.29289L11.0208 8.29289V7.29289H9.02082ZM10.0208 1.63604H11.0208V0.636039L10.0208 0.636039L10.0208 1.63604ZM4.36396 0.636039L3.36396 0.636039L3.36396 2.63604L4.36396 2.63604L4.36396 0.636039ZM11.0208 7.29289V1.63604L9.02082 1.63604L9.02082 7.29289H11.0208ZM10.0208 0.636039L4.36396 0.636039L4.36396 2.63604L10.0208 2.63604L10.0208 0.636039ZM9.31371 0.928932L0.12132 10.1213L1.53553 11.5355L10.7279 2.34315L9.31371 0.928932Z' fill='%234733FF'/%3E%3C/svg%3E%0A");

		&:hover {
			transform: rotate(45deg);
		}
	}

	&__link {
		display: flex;
		align-items: center;
		justify-content: center;
		width: 100%;
		height: rem(104);
		overflow: hidden;
		border-radius: rem(20);
		background-color: $text-color-light;

		& > * {
			display: flex;
			align-items: center;
			gap: rem(20);
			font-size: rem(16);
			color: $bg-color-grey;
			transition: all 0.3s;

			@media (min-width: $widescreen) {
				text-wrap: nowrap;
				transform: rotate(-90deg);
			}
		}

		@media (min-width: $widescreen) {
			height: rem(350);
		}

		&:hover {
			& > * {
				color: $bg-accent;
			}
		}
	}

	&__link-to-post {
		display: none;
		position: absolute;
		right: 30px;
		bottom: 30px;
		z-index: 3;

		span {
			background-color: $text-color-light;

			path {
				fill: $bg-accent;
			}
		}
	}

	&__tag {
		display: flex;
		justify-content: center;
		align-items: center;
		position: absolute;
		transition: all 0.3s ease;
		visibility: visible;
		z-index: 2;
		left: 30px;
		min-height: 42px;
		bottom: 0;
		border-radius: rem(10) rem(10) 0 0;
		padding: rem(12) rem(34);
		width: rem(150);

		@media (min-width: $widescreen) {
			left: 0;
			width: 100%;
			border-radius: 0 rem(20) 0 0;
		}

		& > * {
			color: $text-color-light;
			text-wrap: nowrap;
			position: relative;
			font-size: rem(16);
			line-height: 120%;
			font-weight: 400;
			right: 0;
			z-index: 2;

		}
	}

	&__body {
		display: flex;
		flex-direction: column;
		opacity: 0;
		width: 100%;
		height: 0;
		margin-bottom: rem(30);
		visibility: hidden;

		@media (min-width: $widescreen) {
			margin-bottom: rem(0);
		}
	}

	&__title {
		color: $text-color-light;
		font-size: rem(24);
		font-weight: 500;
		line-height: 120%;
		margin-bottom: rem(10);

		&:hover {
			color: $bg-accent;
		}
	}

	&__descr {
		color: $text-color-light;
		font-size: rem(16);
		line-height: 160%;
	}
}
