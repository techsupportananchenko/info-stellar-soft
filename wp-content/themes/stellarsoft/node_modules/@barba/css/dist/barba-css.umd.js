!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):(t||self).barbaCss=i()}(this,function(){return new(/*#__PURE__*/function(){function t(){this.name="@barba/css",this.version="2.1.16",this.barba=void 0,this.logger=void 0,this.prefix="barba",this.callbacks={},this.cb=void 0,this.t=!1}var i=t.prototype;return i.install=function(t){this.logger=new t.Logger(this.name),this.logger.info(this.version),this.barba=t,this.i=this.i.bind(this),this.h=this.h.bind(this),this.o=this.o.bind(this)},i.init=function(){this.barba.hooks.before(this.u,this),this.barba.hooks.beforeOnce(this.u,this),this.barba.hooks.beforeOnce(this.m,this),this.barba.hooks.afterOnce(this.P,this),this.barba.hooks.beforeLeave(this.v,this),this.barba.hooks.afterLeave(this.l,this),this.barba.hooks.beforeEnter(this.p,this),this.barba.hooks.afterEnter(this.g,this),this.barba.transitions.once=this.i,this.barba.transitions.leave=this.h,this.barba.transitions.enter=this.o,this.barba.transitions.store.all.unshift({name:"barba",once:function(){},leave:function(){},enter:function(){}}),this.barba.transitions.store.update()},i.start=function(t,i){try{var n=this;return n.add(t,i),Promise.resolve(n.barba.helpers.nextTick()).then(function(){return n.add(t,i+"-active"),Promise.resolve(n.barba.helpers.nextTick()).then(function(){})})}catch(t){return Promise.reject(t)}},i.next=function(t,i){try{var n=this;return n.t=n.T(t),Promise.resolve(n.t?new Promise(function(e){try{return n.cb=e,n.callbacks[i]=e,t.addEventListener("transitionend",e,!1),n.remove(t,i),Promise.resolve(n.barba.helpers.nextTick()).then(function(){return n.add(t,i+"-to"),Promise.resolve(n.barba.helpers.nextTick()).then(function(){})})}catch(t){return Promise.reject(t)}}):(n.remove(t,i),Promise.resolve(n.barba.helpers.nextTick()).then(function(){return n.add(t,i+"-to"),Promise.resolve(n.barba.helpers.nextTick()).then(function(){})})))}catch(t){return Promise.reject(t)}},i.end=function(t,i){try{var n=this;return n.remove(t,i+"-to"),n.remove(t,i+"-active"),t.removeEventListener("transitionend",n.callbacks[i]),n.t=!1,Promise.resolve()}catch(t){return Promise.reject(t)}},i.add=function(t,i){t.classList.add(this.prefix+"-"+i)},i.remove=function(t,i){t.classList.remove(this.prefix+"-"+i)},i.u=function(t,i){this.prefix=i.name||"barba"},i.T=function(t){return"0s"!==getComputedStyle(t).transitionDuration},i.m=function(t){return this.start(t.next.container,"once")},i.i=function(t,i){try{var n=this;return Promise.resolve(n.barba.hooks.do("once",t,i)).then(function(){return n.next(t.next.container,"once")})}catch(t){return Promise.reject(t)}},i.P=function(t){return this.end(t.next.container,"once")},i.v=function(t){return this.start(t.current.container,"leave")},i.h=function(t,i){try{var n=this;return Promise.resolve(n.barba.hooks.do("leave",t,i)).then(function(){return n.next(t.current.container,"leave")})}catch(t){return Promise.reject(t)}},i.l=function(t){return this.end(t.current.container,"leave"),this.barba.transitions.remove(t),Promise.resolve()},i.p=function(t){return this.start(t.next.container,"enter")},i.o=function(t,i){try{var n=this;return Promise.resolve(n.barba.hooks.do("enter",t,i)).then(function(){return n.next(t.next.container,"enter")})}catch(t){return Promise.reject(t)}},i.g=function(t){return this.end(t.next.container,"enter")},t}())});
//# sourceMappingURL=barba-css.umd.js.map
